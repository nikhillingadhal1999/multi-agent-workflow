To check the health of your Mac machine, follow these steps:

1. Check Disk Usage:
Use the following command to list disk usage in human-readable format:
    du -sh /*

If any individual directory exceeds 10GB in size, flag it for review.

2. Check Available Disk Space:
Use the following command to see available disk space:
    df -h /

If available disk space is less than 10%, raise an alert.

3. Check Memory (RAM) Usage:
To see memory usage details, use:
    vm_stat

Use the following to convert page values to megabytes:
    pagesize=$(pagesize)
    free_pages=$(vm_stat | grep "Pages free" | awk '{print $3}' | sed 's/\.//')
    free_mem_mb=$((free_pages * pagesize / 1024 / 1024))
    echo "Free memory: $free_mem_mb MB"

If free memory is below 500MB, report low memory warning.

4. Check Top Processes by CPU Usage:
Use this to list top CPU-consuming processes:
    ps -A -o %cpu,command | sort -n -r | head -n 5

If any single process is using more than 80% CPU, flag it.

5. Check Running Services:
To check if critical services are running, use:
    brew services list

Ensure that services like `nginx`, `mysql`, or others required for your application are listed as "started". If not, raise a warning.

6. Check System Logs for Recent Errors:
Run:
    log show --predicate 'eventMessage contains "error"' --last 1h

If more than 10 error entries are found in the past hour, raise a red flag for investigation.

7. Check Network Interfaces:
Verify that network interfaces are up and running using:
    ifconfig

Ensure the `en0` interface has an IP address and is active. If not, raise a connectivity warning.

8. Optional: Check Battery Health (for laptops):
Run the following to check battery condition:
    system_profiler SPPowerDataType | grep -i "Cycle Count\|Condition"

If condition is anything other than "Normal", notify about battery degradation.

---

After running all these checks, summarize the health status as one of the following:
- ✅ Healthy: All checks passed.
- ⚠️ Degraded: Warnings found in disk, memory, CPU, or logs.
- ❌ Critical: Low disk/memory, failed services, or many errors.
